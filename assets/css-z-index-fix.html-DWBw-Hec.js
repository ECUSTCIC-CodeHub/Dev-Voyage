import{a as i,c as e,b as a,o as n}from"./app-DJgDv-U0.js";const t={};function d(o,s){return n(),e("div",null,[...s[0]||(s[0]=[a(`<div class="hint-container caution"><p class="hint-container-title">警告</p><p>本文由AI生成，不代表任何人类观点。</p></div><h1 id="为什么我的-z-index-死活不生效" tabindex="-1"><a class="header-anchor" href="#为什么我的-z-index-死活不生效"><span>为什么我的 z-index 死活不生效？</span></a></h1><p>老实说，CSS 里最让我头秃的属性，<code>z-index</code> 绝对排前三。</p><p>昨天写一个弹窗组件，明明把 <code>z-index</code> 设成了 <code>9999</code>，甚至一气之下设成了 <code>99999999</code>，结果它还是乖乖地被底下的 Header 盖住了。那一刻，我真的想砸键盘。</p><h2 id="案发现场" tabindex="-1"><a class="header-anchor" href="#案发现场"><span>案发现场</span></a></h2><p>代码大概是这样的：</p><div class="language-css line-numbers-mode" data-highlighter="shiki" data-ext="css" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-css"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">header</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  /* 看起来很无辜的 header */</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  background</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> white</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  opacity</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.9</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  transform</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> translateZ</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> /* 罪魁祸首之一 */</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">modal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  position</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> absolute</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  z-index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9999</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> /* 毫无尊严的 9999 */</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我本以为 <code>z-index</code> 大就能赢，结果现实狠狠打了我一巴掌。</p><h2 id="破案了" tabindex="-1"><a class="header-anchor" href="#破案了"><span>破案了</span></a></h2><p>查了一圈文档才想起来，<strong><code>z-index</code> 只对定位元素（positioned elements）有效</strong>！</p><p>也就是说，如果你的元素 <code>position</code> 是 <code>static</code>（默认值），你写 <code>z-index: 10000</code> 也是白搭。</p><p>但是，我的 <code>.modal</code> 已经是 <code>absolute</code> 了啊？</p><p>这就涉及到了另一个大坑：<strong>层叠上下文 (Stacking Context)</strong>。</p><p>简单说，就是拼爹。</p><p>如果 <code>.modal</code> 的父元素（比如 <code>.content</code>）的层级比 <code>.header</code> 低，那么 <code>.modal</code> 就算 <code>z-index</code> 顶破天，也翻不出 <code>.content</code> 的手掌心，自然也就盖不住 <code>.header</code>。</p><h2 id="怎么解决" tabindex="-1"><a class="header-anchor" href="#怎么解决"><span>怎么解决？</span></a></h2><ol><li><strong>检查 position</strong>: 确保你想设置层级的元素不是 <code>static</code>。给它加个 <code>position: relative</code> 试试。</li><li><strong>检查父级</strong>: 看看是不是父级元素产生了层叠上下文（比如设置了 <code>opacity</code> 小于 1，或者 <code>transform</code> 不为 none，或者 <code>filter</code>... CSS 这里的坑真的多）。</li><li><strong>简单粗暴法</strong>: 如果可能，把弹窗这种需要置顶的元素，直接扔到 <code>&lt;body&gt;</code> 根节点下面去（Vue 的 <code>&lt;Teleport&gt;</code> 或者 React 的 <code>Portal</code> 就是干这个的），别让它在深层嵌套里受气。</li></ol><p>写 CSS 真的像是在修仙，一步一个坑。希望下次遇到 <code>z-index</code> 失效，我能先想起这篇文章，而不是先去按 <code>9</code> 键。</p>`,18)])])}const l=i(t,[["render",d]]),c=JSON.parse('{"path":"/post/posts/css-z-index-fix","title":"为什么我的 z-index 死活不生效？","lang":"zh-CN","frontmatter":{"title":"为什么我的 z-index 死活不生效？","createTime":"2025-12-26T00:00:00.000Z","permalink":"/post/posts/css-z-index-fix","excerpt":"记录一次被 CSS 层叠上下文折磨的经历，以及如何快速解决 z-index 无效的问题。","author":"哈基米3 PRO","featured":false,"category":"前端","description":"警告 本文由AI生成，不代表任何人类观点。 为什么我的 z-index 死活不生效？ 老实说，CSS 里最让我头秃的属性，z-index 绝对排前三。 昨天写一个弹窗组件，明明把 z-index 设成了 9999，甚至一气之下设成了 99999999，结果它还是乖乖地被底下的 Header 盖住了。那一刻，我真的想砸键盘。 案发现场 代码大概是这样的：...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"为什么我的 z-index 死活不生效？\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-25T13:28:01.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"哈基米3 PRO\\"}]}"],["meta",{"property":"og:url","content":"https://ecustcic-codehub.github.io/FullStack-Voyage/Dev-Voyage/post/posts/css-z-index-fix"}],["meta",{"property":"og:site_name","content":"Dev Voyage"}],["meta",{"property":"og:title","content":"为什么我的 z-index 死活不生效？"}],["meta",{"property":"og:description","content":"警告 本文由AI生成，不代表任何人类观点。 为什么我的 z-index 死活不生效？ 老实说，CSS 里最让我头秃的属性，z-index 绝对排前三。 昨天写一个弹窗组件，明明把 z-index 设成了 9999，甚至一气之下设成了 99999999，结果它还是乖乖地被底下的 Header 盖住了。那一刻，我真的想砸键盘。 案发现场 代码大概是这样的：..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-25T13:28:01.000Z"}],["meta",{"property":"article:author","content":"哈基米3 PRO"}],["meta",{"property":"article:modified_time","content":"2025-12-25T13:28:01.000Z"}]]},"readingTime":{"minutes":1.84,"words":551},"git":{"createdTime":1766669152000,"updatedTime":1766669281000,"contributors":[{"name":"ChenXu233","username":"ChenXu233","email":"91937041+ChenXu233@users.noreply.github.com","commits":2,"avatar":"https://avatars.githubusercontent.com/ChenXu233?v=4","url":"https://github.com/ChenXu233"}]},"autoDesc":true,"filePathRelative":"post/posts/css-z-index-fix.md","headers":[],"categoryList":[]}');export{l as comp,c as data};
