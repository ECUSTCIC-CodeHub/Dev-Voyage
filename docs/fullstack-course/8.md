---
title: ç¬¬ 8 ç« ï¼šå‘å¸ƒæ–‡ç« åŠŸèƒ½
createTime: 2025/12/19 12:00:00
permalink: /fullstack-course/publish-article/
---
# ç¬¬ 8 ç« ï¼šå‘å¸ƒæ–‡ç« åŠŸèƒ½

::: important æœ¬ç« å­¦ä¹ ç›®æ ‡
- å­¦ä¹  Vue è¡¨å•å¤„ç†ä¸ v-model
- ç†è§£ POST è¯·æ±‚ä¸æ•°æ®æäº¤
- æŒæ¡ Pydantic æ•°æ®éªŒè¯
- å®ç°æ–‡ç« å‘å¸ƒåŠŸèƒ½
- ğŸ‰ **æˆæœï¼šèƒ½å‘å¸ƒæ–°æ–‡ç« äº†ï¼**
:::

æ–‡ç« èƒ½çœ‹äº†ï¼Œä½†è¿˜ä¸èƒ½å†™ï¼Ÿè¿™å¯ä¸è¡Œï¼ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œæœ€æ ¸å¿ƒçš„åŠŸèƒ½å°±æ˜¯è®©ç”¨æˆ·èƒ½å¤Ÿå‘å¸ƒè‡ªå·±çš„æ–‡ç« ã€‚è¿™ä¸€ç« æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼

::: tip æœ¬ç« ç»“æŸåä½ ä¼šå¾—åˆ°ä»€ä¹ˆ
ä¸€ä¸ªå®Œæ•´çš„æ–‡ç« å‘å¸ƒé¡µé¢â€”â€”å¡«å†™æ ‡é¢˜ã€æ‘˜è¦ã€æ­£æ–‡ï¼Œç‚¹å‡»å‘å¸ƒï¼Œæ–°æ–‡ç« å°±å‡ºç°åœ¨åˆ—è¡¨é‡Œäº†ï¼
:::

---

## 8.1 ç†è§£ HTTP æ–¹æ³•

### 8.1.1 GET vs POST

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªç”¨è¿‡ GET è¯·æ±‚æ¥**è·å–**æ•°æ®ã€‚ä½†è¦**æäº¤**æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ POST è¯·æ±‚ã€‚

::: info å†å²è¶£äº‹ï¼šHTTP æ–¹æ³•çš„è®¾è®¡å“²å­¦
HTTP åè®®çš„è®¾è®¡è€… Tim Berners-Leeï¼ˆæ²¡é”™ï¼Œå°±æ˜¯å‘æ˜ä¸‡ç»´ç½‘çš„é‚£ä½ï¼‰åœ¨ 1991 å¹´è®¾è®¡ HTTP æ—¶ï¼Œå€Ÿé‰´äº† REST æ¶æ„çš„æ€æƒ³ï¼š**ç”¨ä¸åŒçš„åŠ¨è¯è¡¨ç¤ºä¸åŒçš„æ“ä½œ**ã€‚

å°±åƒç°å®ç”Ÿæ´»ä¸­ï¼š
- "ç»™æˆ‘çœ‹çœ‹èœå•" â†’ GETï¼ˆè·å–ï¼‰
- "æˆ‘è¦ç‚¹è¿™é“èœ" â†’ POSTï¼ˆåˆ›å»ºï¼‰
- "æŠŠè¿™é“èœæ¢æˆå¦ä¸€é“" â†’ PUTï¼ˆæ›´æ–°ï¼‰
- "ä¸è¦è¿™é“èœäº†" â†’ DELETEï¼ˆåˆ é™¤ï¼‰

è¿™ç§è®¾è®¡è®© API æ›´åŠ è¯­ä¹‰åŒ–ï¼Œä¸€çœ‹å°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼
:::

| HTTP æ–¹æ³• | ç”¨é€” | ç‰¹ç‚¹ |
|-----------|------|------|
| **GET** | è·å–æ•°æ® | å‚æ•°åœ¨ URL ä¸­ï¼Œå¯è¢«ç¼“å­˜ |
| **POST** | åˆ›å»ºæ•°æ® | å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ï¼Œæ›´å®‰å…¨ |
| **PUT** | æ›´æ–°æ•°æ® | æ›¿æ¢æ•´ä¸ªèµ„æº |
| **DELETE** | åˆ é™¤æ•°æ® | åˆ é™¤æŒ‡å®šèµ„æº |

### 8.1.2 ä¸ºä»€ä¹ˆå‘å¸ƒæ–‡ç« ç”¨ POSTï¼Ÿ

1. **æ•°æ®é‡å¤§**ï¼šæ–‡ç« å†…å®¹å¯èƒ½å¾ˆé•¿ï¼Œä¸é€‚åˆæ”¾åœ¨ URL é‡Œ
2. **å®‰å…¨æ€§**ï¼šPOST è¯·æ±‚çš„æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨åœ°å€æ 
3. **è¯­ä¹‰æ­£ç¡®**ï¼šåˆ›å»ºæ–°èµ„æºå°±åº”è¯¥ç”¨ POST

## 8.2 åç«¯ï¼šåˆ›å»ºå‘å¸ƒ API

### 8.2.1 Pydantic æ•°æ®éªŒè¯

åœ¨æ¥æ”¶ç”¨æˆ·æäº¤çš„æ•°æ®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦**éªŒè¯**æ•°æ®æ˜¯å¦åˆæ³•ã€‚æ¯”å¦‚ï¼šæ ‡é¢˜ä¸èƒ½ä¸ºç©ºã€å†…å®¹é•¿åº¦æœ‰é™åˆ¶ç­‰ã€‚

::: info å†å²è¶£äº‹ï¼šPydantic çš„è¯ç”Ÿ
Pydantic çš„ä½œè€… Samuel Colvin åœ¨ 2017 å¹´åˆ›å»ºäº†è¿™ä¸ªåº“ï¼Œçµæ„Ÿæ¥è‡ªäºä»–å¯¹ Python ç±»å‹æç¤ºçš„çƒ­çˆ±ã€‚ä»–æƒ³ï¼š"æ—¢ç„¶ Python 3.5 æœ‰äº†ç±»å‹æç¤ºï¼Œä¸ºä»€ä¹ˆä¸ç”¨å®ƒæ¥åšæ•°æ®éªŒè¯å‘¢ï¼Ÿ"

äºæ˜¯ Pydantic è¯ç”Ÿäº†â€”â€”ç”¨ Python çš„ç±»å‹æ³¨è§£æ¥å®šä¹‰æ•°æ®ç»“æ„ï¼Œè‡ªåŠ¨å®ŒæˆéªŒè¯å’Œè½¬æ¢ã€‚FastAPI çš„ä½œè€… SebastiÃ¡n RamÃ­rez çœ‹åˆ°åå¤§ä¸ºæƒŠå¹ï¼Œç›´æ¥æŠŠ Pydantic é›†æˆåˆ°äº† FastAPI ä¸­ï¼Œä¸¤è€…æˆä¸ºäº†æœ€ä½³æ‹æ¡£ï¼
:::

Pydantic æ˜¯ FastAPI å†…ç½®çš„æ•°æ®éªŒè¯åº“ï¼Œç”¨æ³•éå¸¸ç®€å•ï¼š

```python
from pydantic import BaseModel

class ArticleCreate(BaseModel):
    title: str           # å¿…å¡«ï¼Œå­—ç¬¦ä¸²
    summary: str = ""    # é€‰å¡«ï¼Œé»˜è®¤ç©ºå­—ç¬¦ä¸²
    content: str         # å¿…å¡«ï¼Œå­—ç¬¦ä¸²
    tags: str = ""       # é€‰å¡«ï¼Œé»˜è®¤ç©ºå­—ç¬¦ä¸²
```

::: tip Pydantic ä¼šè‡ªåŠ¨å¸®ä½ ï¼š
- âœ… æ£€æŸ¥å¿…å¡«å­—æ®µæ˜¯å¦å­˜åœ¨
- âœ… æ£€æŸ¥æ•°æ®ç±»å‹æ˜¯å¦æ­£ç¡®
- âœ… è‡ªåŠ¨è½¬æ¢å…¼å®¹çš„ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²æ•°å­—è½¬ä¸ºæ•´æ•°ï¼‰
- âœ… è¿”å›å‹å¥½çš„é”™è¯¯ä¿¡æ¯
:::

### 8.2.2 åˆ›å»º schemas.py

åœ¨ `backend/src/backend/` ç›®å½•ä¸‹åˆ›å»º `schemas.py` æ–‡ä»¶ï¼š

```python
# backend/src/backend/schemas.py
from pydantic import BaseModel, Field
from typing import Optional


class ArticleCreate(BaseModel):
    """åˆ›å»ºæ–‡ç« çš„è¯·æ±‚æ¨¡å‹"""
    title: str = Field(..., min_length=1, max_length=200, description="æ–‡ç« æ ‡é¢˜")
    summary: Optional[str] = Field(default="", max_length=500, description="æ–‡ç« æ‘˜è¦")
    content: str = Field(..., min_length=1, description="æ–‡ç« å†…å®¹")
    tags: Optional[str] = Field(default="", description="æ ‡ç­¾ï¼Œé€—å·åˆ†éš”")

    class Config:
        json_schema_extra = {
            "example": {
                "title": "æˆ‘çš„æ–°æ–‡ç« ",
                "summary": "è¿™æ˜¯æ–‡ç« æ‘˜è¦",
                "content": "# æ ‡é¢˜\n\nè¿™æ˜¯æ–‡ç« æ­£æ–‡...",
                "tags": "Python,å­¦ä¹ ç¬”è®°"
            }
        }


class ArticleResponse(BaseModel):
    """æ–‡ç« å“åº”æ¨¡å‹"""
    id: int
    title: str
    summary: str
    content: str
    author: str
    created_at: str
    tags: list[str]
```

::: note ä»£ç è§£é‡Š
- `Field(...)`ï¼š`...` è¡¨ç¤ºå¿…å¡«å­—æ®µ
- `min_length`ã€`max_length`ï¼šå­—ç¬¦ä¸²é•¿åº¦é™åˆ¶
- `Optional[str]`ï¼šå¯é€‰å­—æ®µ
- `default=""`ï¼šé»˜è®¤å€¼
- `json_schema_extra`ï¼šä¸º API æ–‡æ¡£æä¾›ç¤ºä¾‹
:::

### 8.2.3 æ·»åŠ å‘å¸ƒ API

ä¿®æ”¹ `backend/src/backend/__init__.py`ï¼Œæ·»åŠ å‘å¸ƒæ–‡ç« çš„ APIï¼š

```python
# åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ å¯¼å…¥
from datetime import datetime
from .schemas import ArticleCreate

# åœ¨å…¶ä»– API ä¸‹é¢æ·»åŠ å‘å¸ƒæ–‡ç« çš„ API
@app.post("/api/articles")
def create_article(article: ArticleCreate, db: Session = Depends(get_db)):
    """å‘å¸ƒæ–°æ–‡ç« """
    # åˆ›å»ºæ–‡ç« å¯¹è±¡
    db_article = Article(
        title=article.title,
        summary=article.summary or article.content[:100] + "...",  # æ²¡æœ‰æ‘˜è¦å°±æˆªå–å†…å®¹
        content=article.content,
        author="åšä¸»",  # æš‚æ—¶å†™æ­»ï¼Œç¬¬9ç« ä¼šæ”¹æˆå½“å‰ç™»å½•ç”¨æˆ·
        created_at=datetime.now().strftime("%Y-%m-%d"),
        tags=article.tags
    )
    
    # ä¿å­˜åˆ°æ•°æ®åº“
    db.add(db_article)
    db.commit()
    db.refresh(db_article)  # åˆ·æ–°ä»¥è·å–è‡ªåŠ¨ç”Ÿæˆçš„ id
    
    return {
        "message": "å‘å¸ƒæˆåŠŸ",
        "article": db_article.to_dict()
    }
```

::: tip db.refresh() æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ
å½“æˆ‘ä»¬åˆ›å»ºä¸€æ¡æ–°è®°å½•æ—¶ï¼Œ`id` æ˜¯ç”±æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„ã€‚`db.refresh(db_article)` ä¼šä»æ•°æ®åº“é‡æ–°è¯»å–è¿™æ¡è®°å½•ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½è·å–åˆ°è‡ªåŠ¨ç”Ÿæˆçš„ `id` äº†ã€‚
:::

### 8.2.4 æµ‹è¯•å‘å¸ƒ API

å¯åŠ¨åç«¯æœåŠ¡ï¼Œè®¿é—® `http://localhost:8000/docs`ï¼Œä½ ä¼šçœ‹åˆ°æ–°å¢äº†ä¸€ä¸ª POST `/api/articles` æ¥å£ã€‚

ç‚¹å‡» "Try it out"ï¼Œå¡«å…¥æµ‹è¯•æ•°æ®ï¼š

```json
{
  "title": "æµ‹è¯•æ–‡ç« ",
  "summary": "è¿™æ˜¯ä¸€ç¯‡æµ‹è¯•æ–‡ç« ",
  "content": "# æµ‹è¯•\n\nè¿™æ˜¯æµ‹è¯•å†…å®¹",
  "tags": "æµ‹è¯•"
}
```

ç‚¹å‡» "Execute"ï¼Œå¦‚æœè¿”å› "å‘å¸ƒæˆåŠŸ"ï¼Œè¯´æ˜åç«¯ API æ²¡é—®é¢˜ï¼

## 8.3 å‰ç«¯ï¼šåˆ›å»ºå‘å¸ƒé¡µé¢

### 8.3.1 Vue è¡¨å•åŸºç¡€

åœ¨ Vue ä¸­ï¼Œè¡¨å•å¤„ç†çš„æ ¸å¿ƒæ˜¯ `v-model`â€”â€”å®ƒå®ç°äº†**åŒå‘ç»‘å®š**ï¼š

```vue
<template>
  <input v-model="title" />
  <p>ä½ è¾“å…¥çš„æ˜¯ï¼š{{ title }}</p>
</template>

<script setup>
const title = ref('')
</script>
```

::: info v-model æ˜¯ä»€ä¹ˆé­”æ³•ï¼Ÿ
`v-model` å…¶å®æ˜¯è¯­æ³•ç³–ï¼Œç­‰ä»·äºï¼š

```vue
<input 
  :value="title" 
  @input="title = $event.target.value" 
/>
```

å®ƒåŒæ—¶åšäº†ä¸¤ä»¶äº‹ï¼š
1. æŠŠ `title` çš„å€¼æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†é‡Œï¼ˆ`:value`ï¼‰
2. å½“ç”¨æˆ·è¾“å…¥æ—¶ï¼Œæ›´æ–° `title` çš„å€¼ï¼ˆ`@input`ï¼‰

è¿™å°±æ˜¯"åŒå‘ç»‘å®š"ï¼
:::

### 8.3.2 åˆ›å»ºå‘å¸ƒé¡µé¢

åœ¨ `frontend/app/pages/blog/` ç›®å½•ä¸‹åˆ›å»º `create.vue`ï¼š

```vue
<!-- frontend/app/pages/blog/create.vue -->
<template>
  <div class="create-page">
    <h1 class="page-title">âœï¸ å†™æ–‡ç« </h1>

    <form @submit.prevent="handleSubmit" class="article-form">
      <!-- æ ‡é¢˜ -->
      <div class="form-group">
        <label for="title" class="form-label">
          æ–‡ç« æ ‡é¢˜ <span class="required">*</span>
        </label>
        <input
          id="title"
          v-model="form.title"
          type="text"
          class="form-input"
          placeholder="èµ·ä¸€ä¸ªå¸å¼•äººçš„æ ‡é¢˜..."
          maxlength="200"
        />
        <p class="char-count">{{ form.title.length }}/200</p>
      </div>

      <!-- æ‘˜è¦ -->
      <div class="form-group">
        <label for="summary" class="form-label">
          æ–‡ç« æ‘˜è¦
        </label>
        <textarea
          id="summary"
          v-model="form.summary"
          class="form-textarea"
          placeholder="ç®€çŸ­æè¿°æ–‡ç« å†…å®¹ï¼ˆä¸å¡«åˆ™è‡ªåŠ¨æˆªå–æ­£æ–‡ï¼‰"
          rows="2"
          maxlength="500"
        ></textarea>
        <p class="char-count">{{ form.summary.length }}/500</p>
      </div>

      <!-- æ ‡ç­¾ -->
      <div class="form-group">
        <label for="tags" class="form-label">
          æ ‡ç­¾
        </label>
        <input
          id="tags"
          v-model="form.tags"
          type="text"
          class="form-input"
          placeholder="å¤šä¸ªæ ‡ç­¾ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ï¼šVue,å­¦ä¹ ç¬”è®°"
        />
      </div>

      <!-- æ­£æ–‡ -->
      <div class="form-group">
        <label for="content" class="form-label">
          æ–‡ç« æ­£æ–‡ <span class="required">*</span>
        </label>
        <p class="form-hint">æ”¯æŒ Markdown æ ¼å¼</p>
        <textarea
          id="content"
          v-model="form.content"
          class="form-textarea content-editor"
          placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„æƒ³æ³•..."
          rows="15"
        ></textarea>
      </div>

      <!-- æäº¤æŒ‰é’® -->
      <div class="form-actions">
        <NuxtLink to="/blog" class="btn-cancel">
          å–æ¶ˆ
        </NuxtLink>
        <button 
          type="submit" 
          class="btn-submit"
          :disabled="isSubmitting || !isFormValid"
        >
          {{ isSubmitting ? 'å‘å¸ƒä¸­...' : 'å‘å¸ƒæ–‡ç« ' }}
        </button>
      </div>

      <!-- é”™è¯¯æç¤º -->
      <div v-if="errorMessage" class="error-message">
        âŒ {{ errorMessage }}
      </div>
    </form>
  </div>
</template>

<script setup>
// è¡¨å•æ•°æ®
const form = reactive({
  title: '',
  summary: '',
  content: '',
  tags: ''
})

// çŠ¶æ€
const isSubmitting = ref(false)
const errorMessage = ref('')

// è¡¨å•éªŒè¯
const isFormValid = computed(() => {
  return form.title.trim().length > 0 && form.content.trim().length > 0
})

// æäº¤è¡¨å•
async function handleSubmit() {
  // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯
  errorMessage.value = ''
  
  // éªŒè¯è¡¨å•
  if (!form.title.trim()) {
    errorMessage.value = 'è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜'
    return
  }
  if (!form.content.trim()) {
    errorMessage.value = 'è¯·è¾“å…¥æ–‡ç« å†…å®¹'
    return
  }
  
  // å¼€å§‹æäº¤
  isSubmitting.value = true
  
  try {
    const response = await $fetch('http://localhost:8000/api/articles', {
      method: 'POST',
      body: {
        title: form.title.trim(),
        summary: form.summary.trim(),
        content: form.content,
        tags: form.tags.trim()
      }
    })
    
    // å‘å¸ƒæˆåŠŸï¼Œè·³è½¬åˆ°æ–‡ç« è¯¦æƒ…é¡µ
    if (response.article?.id) {
      navigateTo(`/blog/${response.article.id}`)
    } else {
      navigateTo('/blog')
    }
  } catch (error) {
    console.error('å‘å¸ƒå¤±è´¥:', error)
    errorMessage.value = error.data?.detail || 'å‘å¸ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
  } finally {
    isSubmitting.value = false
  }
}
</script>

<style scoped>
.create-page {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

.page-title {
  font-size: 2rem;
  font-weight: 700;
  color: #1a202c;
  margin-bottom: 2rem;
}

.article-form {
  background: white;
  border-radius: 1rem;
  padding: 2rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-label {
  display: block;
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.required {
  color: #e53e3e;
}

.form-hint {
  font-size: 0.875rem;
  color: #6b7280;
  margin-bottom: 0.5rem;
}

.form-input {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid #e5e7eb;
  border-radius: 0.5rem;
  font-size: 1rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.form-input:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.form-textarea {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid #e5e7eb;
  border-radius: 0.5rem;
  font-size: 1rem;
  resize: vertical;
  font-family: inherit;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.form-textarea:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.content-editor {
  font-family: 'Fira Code', 'Consolas', monospace;
  line-height: 1.6;
}

.char-count {
  text-align: right;
  font-size: 0.75rem;
  color: #9ca3af;
  margin-top: 0.25rem;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e5e7eb;
}

.btn-cancel {
  padding: 0.75rem 1.5rem;
  color: #6b7280;
  text-decoration: none;
  border-radius: 0.5rem;
  transition: background 0.2s;
}

.btn-cancel:hover {
  background: #f3f4f6;
}

.btn-submit {
  padding: 0.75rem 2rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.btn-submit:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.btn-submit:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.error-message {
  margin-top: 1rem;
  padding: 1rem;
  background: #fef2f2;
  color: #dc2626;
  border-radius: 0.5rem;
  text-align: center;
}
</style>
```

::: warning @submit.prevent æ˜¯ä»€ä¹ˆï¼Ÿ
`@submit.prevent` ç­‰äº `@submit` + `event.preventDefault()`ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨å•æäº¤ä¼šåˆ·æ–°é¡µé¢ï¼ˆè¿™æ˜¯æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºï¼‰ã€‚`.prevent` ä¿®é¥°ç¬¦é˜»æ­¢è¿™ä¸ªé»˜è®¤è¡Œä¸ºï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨ JavaScript æ¥å¤„ç†è¡¨å•æäº¤ã€‚
:::

### 8.3.3 æ·»åŠ å‘å¸ƒå…¥å£

åœ¨æ–‡ç« åˆ—è¡¨é¡µæ·»åŠ ä¸€ä¸ª"å†™æ–‡ç« "æŒ‰é’®ã€‚ä¿®æ”¹ `frontend/app/pages/blog/index.vue`ï¼Œåœ¨é¡µé¢é¡¶éƒ¨æ·»åŠ ï¼š

```vue
<!-- åœ¨æ ‡é¢˜æ—è¾¹æ·»åŠ æŒ‰é’® -->
<div class="page-header">
  <h1 class="text-3xl font-bold text-gray-800">
    ğŸ“ åšå®¢æ–‡ç« 
  </h1>
  <NuxtLink to="/blog/create" class="write-btn">
    âœï¸ å†™æ–‡ç« 
  </NuxtLink>
</div>
```

æ·»åŠ å¯¹åº”çš„æ ·å¼ï¼š

```css
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.write-btn {
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-decoration: none;
  border-radius: 0.5rem;
  font-weight: 600;
  transition: transform 0.2s, box-shadow 0.2s;
}

.write-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}
```

## 8.4 æµ‹è¯•å‘å¸ƒåŠŸèƒ½

### 8.4.1 å®Œæ•´æµ‹è¯•æµç¨‹

1. è®¿é—® `http://localhost:3000/blog`
2. ç‚¹å‡»"å†™æ–‡ç« "æŒ‰é’®
3. å¡«å†™æ ‡é¢˜ã€æ‘˜è¦ï¼ˆå¯é€‰ï¼‰ã€æ­£æ–‡
4. ç‚¹å‡»"å‘å¸ƒæ–‡ç« "
5. è‡ªåŠ¨è·³è½¬åˆ°æ–°æ–‡ç« çš„è¯¦æƒ…é¡µ
6. è¿”å›æ–‡ç« åˆ—è¡¨ï¼Œæ–°æ–‡ç« å‡ºç°åœ¨åˆ—è¡¨ä¸­ï¼

::: important ğŸ‰ æ­å–œï¼ä½ çš„åšå®¢å¯ä»¥å‘æ–‡ç« äº†ï¼
ç°åœ¨ä½ å¯ä»¥ï¼š
- âœ… å†™æ–°æ–‡ç« å¹¶å‘å¸ƒ
- âœ… è¡¨å•æœ‰éªŒè¯ï¼Œä¸ä¼šæäº¤ç©ºå†…å®¹
- âœ… å‘å¸ƒæˆåŠŸè‡ªåŠ¨è·³è½¬
- âœ… æ”¯æŒ Markdown æ ¼å¼

å†ä¹Ÿä¸ç”¨åœ¨ä»£ç é‡Œæ‰‹åŠ¨æ·»åŠ æ–‡ç« äº†ï¼
:::

## 8.5 è¿›é˜¶ï¼šMarkdown å®æ—¶é¢„è§ˆ

æƒ³è®©å†™ä½œä½“éªŒæ›´å¥½ï¼Ÿæˆ‘ä»¬å¯ä»¥æ·»åŠ  Markdown å®æ—¶é¢„è§ˆåŠŸèƒ½ã€‚

### 8.5.1 æ·»åŠ é¢„è§ˆåŒºåŸŸ

ä¿®æ”¹å‘å¸ƒé¡µé¢ï¼Œåœ¨æ­£æ–‡ç¼–è¾‘å™¨éƒ¨åˆ†æ”¹ä¸ºå¹¶æ’å¸ƒå±€ï¼š

```vue
<!-- æ›¿æ¢åŸæ¥çš„æ­£æ–‡ç¼–è¾‘åŒºåŸŸ -->
<div class="form-group">
  <label class="form-label">
    æ–‡ç« æ­£æ–‡ <span class="required">*</span>
  </label>
  <p class="form-hint">æ”¯æŒ Markdown æ ¼å¼ï¼Œå³ä¾§å®æ—¶é¢„è§ˆ</p>
  
  <div class="editor-container">
    <!-- ç¼–è¾‘åŒº -->
    <div class="editor-pane">
      <textarea
        v-model="form.content"
        class="form-textarea content-editor"
        placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„æƒ³æ³•..."
        rows="20"
      ></textarea>
    </div>
    
    <!-- é¢„è§ˆåŒº -->
    <div class="preview-pane">
      <div class="preview-label">é¢„è§ˆ</div>
      <div class="preview-content prose" v-html="previewContent"></div>
    </div>
  </div>
</div>
```

åœ¨ `<script setup>` ä¸­æ·»åŠ é¢„è§ˆé€»è¾‘ï¼š

```javascript
// æ·»åŠ åœ¨ script setup ä¸­
import MarkdownIt from 'markdown-it'

const md = new MarkdownIt()

const previewContent = computed(() => {
  if (!form.content) return '<p class="placeholder">é¢„è§ˆåŒºåŸŸ...</p>'
  return md.render(form.content)
})
```

æ·»åŠ æ ·å¼ï¼š

```css
.editor-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  min-height: 400px;
}

.editor-pane .content-editor {
  height: 100%;
  min-height: 400px;
}

.preview-pane {
  border: 2px solid #e5e7eb;
  border-radius: 0.5rem;
  background: #f9fafb;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.preview-label {
  padding: 0.5rem 1rem;
  background: #e5e7eb;
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 500;
}

.preview-content {
  padding: 1rem;
  overflow-y: auto;
  flex: 1;
}

.preview-content .placeholder {
  color: #9ca3af;
  font-style: italic;
}

/* å“åº”å¼ï¼šå°å±å¹•æ—¶ä¸Šä¸‹å¸ƒå±€ */
@media (max-width: 768px) {
  .editor-container {
    grid-template-columns: 1fr;
  }
}
```

::: tip å®æ—¶é¢„è§ˆçš„å¥½å¤„
- å†™ Markdown çš„åŒæ—¶çœ‹åˆ°æ¸²æŸ“æ•ˆæœ
- é¿å…å‘å¸ƒåæ‰å‘ç°æ ¼å¼é—®é¢˜
- æå‡å†™ä½œä½“éªŒ

å½“ç„¶ï¼Œè¿™æ˜¯å¯é€‰çš„ä¼˜åŒ–ï¼ŒåŸºç¡€åŠŸèƒ½å·²ç»å¤Ÿç”¨äº†ï¼
:::

## 8.6 å°ç»“

::: note æœ¬ç« å›é¡¾
æœ¬ç« æˆ‘ä»¬å®Œæˆäº†ï¼š
- ç†è§£äº† HTTP æ–¹æ³•ï¼ˆGET/POST/PUT/DELETEï¼‰
- å­¦ä¹ äº† Pydantic æ•°æ®éªŒè¯
- åˆ›å»ºäº†å‘å¸ƒæ–‡ç« çš„åç«¯ API
- å®ç°äº†å®Œæ•´çš„å‘å¸ƒé¡µé¢
- æŒæ¡äº† Vue è¡¨å•å¤„ç†ï¼ˆv-modelã€@submit.preventï¼‰
:::

::: tip åŠ¨æ‰‹ç»ƒä¹ 
è¯•ç€æ‰©å±•ä¸€ä¸‹ï¼š

1. **æ·»åŠ ç¼–è¾‘åŠŸèƒ½**ï¼šåœ¨æ–‡ç« è¯¦æƒ…é¡µæ·»åŠ "ç¼–è¾‘"æŒ‰é’®ï¼Œè·³è½¬åˆ°ç¼–è¾‘é¡µé¢ï¼ˆæç¤ºï¼šå¤ç”¨å‘å¸ƒé¡µé¢ï¼Œé€šè¿‡ URL å‚æ•°åŒºåˆ†ï¼‰
2. **å®ç°åˆ é™¤åŠŸèƒ½**ï¼šæ·»åŠ  DELETE API å’Œå‰ç«¯ç¡®è®¤åˆ é™¤å¯¹è¯æ¡†
3. **è‰ç¨¿åŠŸèƒ½**ï¼šåœ¨æ–‡ç« æ¨¡å‹æ·»åŠ  `is_draft` å­—æ®µï¼Œæ”¯æŒä¿å­˜è‰ç¨¿
4. **å­—æ•°ç»Ÿè®¡**ï¼šåœ¨ç¼–è¾‘å™¨ä¸‹æ–¹å®æ—¶æ˜¾ç¤ºæ–‡ç« å­—æ•°

è¿™äº›ç»ƒä¹ èƒ½å¸®ä½ æ›´æ·±å…¥ç†è§£ CRUD æ“ä½œï¼
:::

::: caution å¸¸è§é—®é¢˜
**Q: å‘å¸ƒæ—¶æŠ¥ 422 é”™è¯¯ï¼Ÿ**

A: è¿™æ˜¯ Pydantic éªŒè¯å¤±è´¥ã€‚æ£€æŸ¥è¯·æ±‚æ•°æ®æ˜¯å¦ç¬¦åˆ `ArticleCreate` çš„è¦æ±‚ï¼ˆæ ‡é¢˜å’Œå†…å®¹ä¸èƒ½ä¸ºç©ºï¼‰ã€‚

**Q: å‘å¸ƒæˆåŠŸä½†è·³è½¬æŠ¥é”™ï¼Ÿ**

A: æ£€æŸ¥è¿”å›æ•°æ®ä¸­æ˜¯å¦åŒ…å« `article.id`ï¼Œä»¥åŠåŠ¨æ€è·¯ç”± `[id].vue` æ˜¯å¦å­˜åœ¨ã€‚

**Q: ä¸­æ–‡ä¹±ç ï¼Ÿ**

A: ç¡®ä¿æ–‡ä»¶ä¿å­˜ä¸º UTF-8 ç¼–ç ï¼Œåç«¯è¿”å›æ—¶è®¾ç½®æ­£ç¡®çš„ Content-Typeã€‚
:::

::: info ä¸‹ä¸€ç« é¢„å‘Š
æ–‡ç« å¯ä»¥å‘å¸ƒäº†ï¼Œä½†ç°åœ¨**è°éƒ½èƒ½å‘**â€”â€”è¿™å¯ä¸è¡Œï¼ä¸‹ä¸€ç« æˆ‘ä»¬è¦å®ç°**ç”¨æˆ·ç™»å½•æ³¨å†Œ**ï¼š

- ğŸ” ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- ğŸ« JWT Token è®¤è¯
- ğŸ›¡ï¸ ä¿æŠ¤å‘å¸ƒåŠŸèƒ½ï¼ˆç™»å½•åæ‰èƒ½å‘æ–‡ç« ï¼‰

å‡†å¤‡å¥½ç»™ä½ çš„åšå®¢åŠ ä¸Šç”¨æˆ·ç³»ç»Ÿäº†å—ï¼Ÿ
:::
